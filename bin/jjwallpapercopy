#!/bin/bash
path=/usr/share/wallpapers/my_wallpapers
sudo mkdir -p $path
wallpapers=$(ls $path)

copied=0
for image in ../*.*; do 
  image_name=${image#../*}
  if [[ $(printf '%s\n' "${wallpapers[@]}" | grep -F -x "$image_name") == "" ]]; then
    sudo cp -un $image $path && echo "✅Copied $image_name" && ((copied+=1))
  fi
done;

if [[ "$copied" == "0" ]]; then
  echo " ⚠️ Wallpapers already exists ⚠️  "
else
  echo " ✅ Wallpapers copied successfully ✅ "
fi

